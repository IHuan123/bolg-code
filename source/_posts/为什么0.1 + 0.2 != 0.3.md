---
title: 为什么0.1 + 0.2 != 0.3。
toc: true
date: 2022-03-24 10:22:29
tags: [JavaSciprt]
urlname:
categories: [JavaSciprt]
recommend:
cover:
keywords: 为什么0.1 + 0.2 != 0.3。
top: 3
---

为什么0.1 + 0.2 != 0.3。

<!-- more -->

```javascript
let n1 = 0.1, n2 = 0.2
console.log(n1 + n2)  // 0.30000000000000004
```

计算机在存储数据时是通过二进制的方式存的，所以计算机在做计算是时，实际上是将数字转化为二进制进行计算的。计算0.1+0.2时，0.1的二进制是`0.0001100110011001100...`（1100循环），0.2的二进制是：`0.00110011001100...`（1100循环），这两个数的二进制都是无限循环的数，在相加后得到的二进制结果也是无限循环的二进制数，但是在 JavaScript 中只有一种数字类型：Number，它的实现遵循IEEE 754标准，使用64位固定长度来表示，也就是标准的double双精度浮点数。在二进制科学表示法中，双精度浮点数的小数部分最多只能保留52位，再加上前面的1，其实就是保留53位有效数字，剩余的需要舍去，遵从“0舍1入”的原则。

所以，0.1和0.2的二进制数相加再转化为十进制数就是：`0.30000000000000004`

### 解决方法：

JavaScript中可以使用bignumber.js这个js库解决精度问题。